const content=document.querySelector(".content");let inverted,linksHighlighted,highlightedHeading,blackWhite,readingGuide,isReading,bigCursor;function visibleWidget(){if(null===document.querySelector(".accessibility-menu-left")){let e=document.querySelector(".accessibility-menu-right");e.style.right="10px",e.style.transition="right 0.5s",e.style.visibility="visible"}else{let t=document.querySelector(".accessibility-menu-left");t.style.left="10px",t.style.transition="left 0.5s",t.style.visibility="visible"}}function handleAccessibilityOption(e){switch(e){case"font-increase":fontSizeManipulate("increase");break;case"font-decrease":fontSizeManipulate("decrease");break;case"font-default":fontSizeManipulate("default");break;case"big-cursor":bigCursorSettings();break;case"screen-reader":screenReaderSettings();break;case"invert-color":invertColor();break;case"highlight-links":highlightLink();break;case"highlight-heading":highlightHeading();break;case"reading-guide":readingGuideSettings();break;case"black-white":blackAndWhite();break;case"reset":resetAccessibilitySettings();break;case"close":closeAccessibilityMenu()}}function bigCursorSettings(){let e=document.getElementById("big-cursor");bigCursor?(document.body.classList.toggle("big-cursor"),bigCursor=!1,e.style.color="lightcyan"):(document.body.classList.toggle("big-cursor"),bigCursor=!0,e.style.color="yellow"),sessionStorage.setItem("bigCursor",bigCursor)}function screenReaderSettings(){let e=document.getElementById("screen-reader");isReading?(isReading=!1,e.textContent="\uD83D\uDD0A   Read Screen",e.style.color="lightcyan",speechSynthesis.cancel()):(isReading=!0,e.textContent="\uD83D\uDD0A  Stop Reading",e.style.color="yellow"),sessionStorage.setItem("isReading",isReading)}function readingGuideSettings(){let e=document.getElementById("reading-guide");readingGuide?(readingGuide=!1,e.style.color="lightcyan"):(readingGuide=!0,e.style.color="yellow"),sessionStorage.setItem("readingGuide",readingGuide)}function invertColor(){let e=document.getElementById("invert-color");inverted?(content.classList.toggle("inverted"),inverted=!1,e.style.color="lightcyan"):(content.classList.toggle("inverted"),inverted=!0,e.style.color="yellow"),sessionStorage.setItem("inverted",inverted)}function highlightLink(){let e=document.getElementById("highlight-links");linksHighlighted?(content.classList.toggle("highlight-links"),linksHighlighted=!1,e.style.color="lightcyan"):(content.classList.toggle("highlight-links"),linksHighlighted=!0,e.style.color="yellow"),sessionStorage.setItem("linksHighlighted",linksHighlighted)}function blackAndWhite(){let e=document.getElementById("black-white");blackWhite?(content.classList.toggle("black-white"),blackWhite=!1,e.style.color="lightcyan"):(content.classList.toggle("black-white"),blackWhite=!0,e.style.color="yellow"),sessionStorage.setItem("blackWhite",blackWhite)}function highlightHeading(){let e=document.getElementById("highlight-heading");highlightedHeading?(content.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(e=>{e.classList.toggle("highlight-heading")}),highlightedHeading=!1,e.style.color="lightcyan"):(content.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(e=>{e.classList.toggle("highlight-heading")}),highlightedHeading=!0,e.style.color="yellow"),sessionStorage.setItem("highlightedHeading",highlightedHeading)}function fontSizeManipulate(e){document.querySelectorAll("p, h1, h2, h3, h4, h5, h6, a, span, td, th, label, input, textarea, select").forEach(t=>{let i=t.style.fontSize;switch(i&&i.includes("px")&&(i=parseFloat(i)/16+"em"),e){case"increase":(i<"1.4em"||"1em"===i)&&(t.style.fontSize=i?parseFloat(i)+.1+"em":"1.1em");break;case"decrease":(i>"0.7em"||""===i)&&(t.style.fontSize=i?parseFloat(i)-.1+"em":"0.9em");break;default:t.style.fontSize="1em"}})}function resetAccessibilitySettings(){content.classList.remove("inverted","big-cursor","highlight-links","highlight-heading","black-white","reading-guide","screen-reader"),highlightedHeading&&content.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(e=>{e.classList.remove("highlight-heading")}),inverted=!1,linksHighlighted=!1,highlightedHeading=!1,blackWhite=!1,isReading=!1,readingGuide=!1,bigCursor=!1,sessionStorage.setItem("inverted",inverted),sessionStorage.setItem("linksHighlighted",linksHighlighted),sessionStorage.setItem("highlightedHeading",highlightedHeading),sessionStorage.setItem("blackWhite",blackWhite),sessionStorage.setItem("isReading",isReading),sessionStorage.setItem("readingGuide",readingGuide),sessionStorage.setItem("bigCursor",bigCursor),content.style.fontSize="1em",speechSynthesis.cancel();document.querySelectorAll(".widget-btn").forEach(e=>{e.style.color="#fff"})}function closeAccessibilityMenu(){if(null===document.querySelector(".accessibility-menu-left")){let e=document.querySelector(".accessibility-menu-right");e.style.right="-350px",e.style.transition="right 0.5s",setTimeout(()=>{e.style.visibility="hidden"},300)}else{let t=document.querySelector(".accessibility-menu-left");t.style.left="-350px",t.style.transition="left 0.5s",setTimeout(()=>{t.style.visibility="hidden"},300)}}$(document).ready(()=>{"true"===sessionStorage.getItem("inverted")?(inverted=!0,invertColor()):inverted=!1,"true"===sessionStorage.getItem("linksHighlighted")?(linksHighlighted=!0,highlightLink()):linksHighlighted=!1,"true"===sessionStorage.getItem("headingHighlighted")?(highlightedHeading=!0,highlightHeading()):highlightedHeading=!1,"true"===sessionStorage.getItem("blackWhite")?(blackWhite=!0,blackAndWhite()):blackWhite=!1,"true"===sessionStorage.getItem("readingGuide")?(readingGuide=!0,readingGuideSettings()):readingGuide=!1,"true"===sessionStorage.getItem("isReading")?(isReading=!0,screenReaderSettings()):isReading=!1,"true"===sessionStorage.getItem("bigCursor")?(bigCursor=!0,bigCursorSettings()):bigCursor=!1});let voices=[];function readText(e){let t=voices[1];if("speechSynthesis"in window){let i=window.speechSynthesis,n=new SpeechSynthesisUtterance;n.pitch=1,n.rate=1,n.volume=1,n.text=e,n.voiceURI=t.voiceURI,n.lang=t.lang,i.speak(n)}else alert("Your browser does not support the screen reader feature. Please use a different browser.")}"speechSynthesis"in window?window.speechSynthesis.onvoiceschanged=function(){voices=window.speechSynthesis.getVoices()}:console.log("Your browser does not support the screen reader feature. Please use a different browser."),document.body.addEventListener("mouseover",e=>{let t=["P","H1","H2","H3","H4","H5","H6","TEXTAREA"];document.querySelectorAll(".highlighted").forEach(e=>{e.classList.remove("highlighted")});let i=e.target;if(!0===readingGuide&&t.includes(i.tagName)&&i.classList.add("highlighted"),!0===isReading&&(speechSynthesis.cancel(),t.includes(i.tagName))){i.classList.add("highlighted"),i.classList.add("highlighted");let n=i.textContent.trim();n&&readText(n)}});const widgetItems={"big-cursor":{name:"Big Cursor",icon:"\uD83D\uDC49",action:"bigCursorSettings"},"screen-reader":{name:"Screen Reader",icon:"\uD83D\uDD09",action:"screenReaderSettings"},"invert-color":{name:"Invert Color",icon:"\uD83D\uDCAB",action:"invertColor"},"highlight-links":{name:"Highlight Links",icon:"\uD83D\uDD26",action:"highlightLink"},"highlight-heading":{name:"Highlight Heading",icon:"\uD83D\uDCA1",action:"highlightHeading"},"reading-guide":{name:"Reading Guide",icon:"\uD83D\uDCD6",action:"readingGuideSettings"},"black-white":{name:"Black & White",icon:"✒️️",action:"blackAndWhite"}};function fetchWidget(e){let t="left"===e.closeButton?"crossBtnLeft":"crossBtnRight",i='<div class="'+("left"===e.position?"accessibility-menu-left":"accessibility-menu-right")+'">\n    <button class="'+t+'" onclick="handleAccessibilityOption(\'close\')">❌</button>\n    <div id="settings-list">\n        <ul style="list-style: none;">\n';return e.showFontSizeButtons&&(i+=' <li>\n                <div class="widget-toolbar" role="toolbar" aria-label="">\n                    <div class="widget-group me-2" role="group" aria-label="">\n                        <button type="button" class="widget-btn widget-btn-outline-light" onclick="handleAccessibilityOption(\'font-increase\')">\n                            <b>A<sup>+</sup></b>\n                        </button>\n                        <button type="button" class="widget-btn widget-btn-outline-light" onclick="handleAccessibilityOption(\'font-decrease\')">\n                            <b>A<sup>-</sup></b>\n                        </button>\n                        <button type="button" class="widget-btn widget-btn-outline-light" onclick="handleAccessibilityOption(\'font-default\')">\n                            <b>A<sup>0</sup></b>\n                        </button>\n                    </div>\n                </div>\n            </li>\n'),e.features.forEach(e=>{let t=widgetItems[e];i+='<li>\n                <div class="widget-gap-2">\n                    <button class="widget-btn widget-btn-outline-light" onclick="handleAccessibilityOption(\''+e+'\')" id="'+e+'">\n                        <b>'+t.icon+"</b>  "+t.name+"\n                    </button>\n                </div>\n            </li>\n"}),e.showResetButton&&(i+=' <li>\n                <div class="widget-gap-2">\n                    <button class="widget-btn widget-btn-outline-light" onclick="handleAccessibilityOption(\'reset\')" id="reset">\n                        <b>\uD83D\uDEAB</b>  Reset\n                    </button>\n                </div>\n            </li>\n        </ul>\n    </div>\n</div>'),i}!function(e){e.fn.widgetBox=function(t){let i={features:["highlight-links","highlight-heading","reading-guide","invert-color","black-white","screen-reader","big-cursor"],position:"right",closeButton:"left",showFontSizeButtons:!0,showResetButton:!0,showWidgetVisibleButton:!0,widgetVisibleButtonPosition:"right",...t};i.showWidgetVisibleButton&&("left"===i.widgetVisibleButtonPosition?e(this).append('<button class="accessibility-menu-btn-left" onclick="visibleWidget()">\uD83E\uDD16</button>'):e(this).append('<button class="accessibility-menu-btn" onclick="visibleWidget()">\uD83E\uDD16</button>')),e(this).append(fetchWidget(i))}}(jQuery);